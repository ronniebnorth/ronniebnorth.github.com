---
layout: default
---

<html>
<head>
<style>
html,
  body {
    margin: 0;
    padding: 0;
  }

  .background {
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    z-index: 0;
  }
</style>
<script src="https://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
  integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
  crossorigin="anonymous"></script>
<script src="https://formbuilder.online/assets/js/form-render.min.js"></script>

<div id="bj" style="margin: 0 auto;width: 300px; ">
</head>
<body>
      <canvas class="background"></canvas>
      <form id="rendered-form" style="position:relative; z-index:10">
        <div class="rendered-form">
          <div class="">
            <h2 id="control-543579">BlackJackd Simulator</h2>
          </div>
          <div class="fb-number form-group field-number-1511625514395">
            <label for="number-1511625514395" class="fb-number-label">Rounds<span class="fb-required">*</span></label>
            <input style="color:black;width:150px" type="number" class="form-control" name="number-1511625514395" value="1000" min="1" step="1000"
              id="numRounds" required="required" aria-required="true">
          </div>
          <div class="fb-number form-group field-number-1511625576634">
            <label for="number-1511625576634" class="fb-number-label">Players<span class="fb-required">*</span></label>
            <input style="color:black;width:150px" type="number" class="form-control" name="number-1511625576634" value="1" min="1" step="1"
              id="numPlayers" required="required" aria-required="true">
          </div>
          <div class="fb-number form-group field-number-1511625633951">
            <label for="number-1511625633951" class="fb-number-label">Decks<span class="fb-required">*</span></label>
            <input style="color:black;width:150px" type="number" class="form-control" name="number-1511625633951" value="8" min="1" step="1"
              id="numDecks" required="required" aria-required="true">
          </div>
          <div class="fb-button form-group field-button-1511625725834">
            <button style="color:black;width:150px" type="button" class="btn btn-success" name="button-1511625725834" style="success"
              id="btnStart">Run!</button>
          </div>
          <div class="fb-button form-group field-button-1511625725834">
            <label for="wins" class="fb-number-label">Wins: <span id="wins"></span><br>
            <label for="loss">Loss: <span id="loss"></span><br><br>
            <label for="runtime">Runtime: <span id="runtime"></span><br>
            <label for="percentage">Win Percentage: <span id="percentage"></span>
          </div>
        </div>
      </form>
      <div id="log" style="max-height: 200px; overflow: auto;"></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/particlesjs/2.1.0/particles.min.js"></script>
    <script>



    $(function() {
        var worker = new Worker('blackjackWorker.js');

        worker.addEventListener('message', function(e) {
          //
            if(e.data.totWins > 0){
                var totWins = e.data.totWins;
                var totLoss = e.data.totLoss;
                var runtime = e.data.runtime;
                console.log('WINS -----', totWins);
                console.log('LOSS -----', totLoss);

                $("#wins").text(totWins);
                $("#loss").text(totLoss);

                $("#runtime").text(runtime);
                var percentage = (totWins/(totWins+totLoss)) * 100;
                $("#percentage").text(percentage + ' %');
            }else{
                try{
                    //$("#log").prepend(e.data.tscores[0] + " : " + e.data.tscores[1] + " --- " + e.data.percentage);
                    //$("#log").prepend("<br>");
                    $("#wins").text(e.data.tscores[0]);
                    $("#loss").text(e.data.tscores[1]);
                    $("#percentage").text(e.data.percentage + ' %');
                }catch(e){
                   console.log("YO",e)
                }

            }


        }, false);

        Particles.init({
          selector: '.background', color: '#00FFFF'
        });
        $( "#btnStart" ).click(function() {
              $("#runtime").text("");

              var workerData = {};
              workerData.numPlayers = $("#numPlayers").val();
              workerData.numRounds = $("#numRounds").val();
              workerData.numDecks = $("#numDecks").val();


              worker.postMessage(workerData); // Send data to our worker.

              //start();

        });
    });
    </script>


  </body>
</html>
